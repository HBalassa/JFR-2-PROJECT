#include <stdio.h>
#include <stdlib.h>
#include <wiringPi.h>
#include <wiringPiI2C.h>
#define DS18S20_PIN 7  // GPIO pin number

void setup() {
    wiringPiSetup();
    pinMode(DS18S20_PIN, INPUT);
}
float readTemperature() {
    int fd = wiringPiI2CSetup(DS18S20_PIN);
    if (fd == -1) {
        printf("Failed to initialize I2C\n");
        return -1;
    }

    int raw = wiringPiI2CRead(fd);
    if (raw == -1) {
        printf("Failed to read data\n");
        return -1;
    }

    float temperature = (float)raw / 16.0;  // Convert raw data to Celsius
    return temperature;
}
int main() {
    setup();
    float temperature = readTemperature();
    if (temperature != -1) {
        printf("Current Temperature: %.2fÂ°C\n", temperature);
    }
    return 0;
}
