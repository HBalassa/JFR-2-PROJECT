#include <stdint.h>

// Define the data pin
#define DS18B20_PIN 2

// Function prototypes
void reset(void);
void write_bit(uint8_t bit);
uint8_t read_bit(void);
void write_byte(uint8_t byte);
uint8_t read_byte(void);
void convert_temp(void);
uint16_t read_temp(void);

// ... (a függvények implementációja)

int main() {
    // Inicializálás
    pinMode(DS18B20_PIN, OUTPUT);

    // Hőmérséklet konvertálásának elindítása
    convert_temp();

    // Hőmérséklet leolvasása
    uint16_t raw_temp = read_temp();

    // Nyers adat átalakítása Celsius-fokká
    float tempC = (float)raw_temp / 16.0;

    // Kiírás a soros portra
    printf("Hőmérséklet: %.2f °C\n", tempC);

    // ... (végtelen ciklus)
}
